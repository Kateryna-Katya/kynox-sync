{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/* =========================================\n   1. ИНИЦИАЛИЗАЦИЯ\n   ========================================= */\n\ngsap.registerPlugin(ScrollTrigger);\nlucide.createIcons();\n\nconst lenis = new Lenis({\n    duration: 1.2,\n    easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n    smooth: true,\n    mouseMultiplier: 1,\n    touchMultiplier: 2,\n});\n\nfunction raf(time) {\n    lenis.raf(time);\n    requestAnimationFrame(raf);\n}\nrequestAnimationFrame(raf);\n\n/* =========================================\n   2. МОБИЛЬНОЕ МЕНЮ\n   ========================================= */\n\nconst burgerBtn = document.getElementById('burger-btn');\nconst navMenu = document.getElementById('nav-menu');\nconst navLinks = document.querySelectorAll('.header__link');\nconst headerBtn = document.querySelector('.header__btn');\n\nfunction toggleMenu() {\n    burgerBtn.classList.toggle('is-active');\n    navMenu.classList.toggle('is-active');\n    \n    if (navMenu.classList.contains('is-active')) {\n        document.body.style.overflow = 'hidden';\n        lenis.stop();\n    } else {\n        document.body.style.overflow = '';\n        lenis.start();\n    }\n}\n\nburgerBtn.addEventListener('click', toggleMenu);\n\n[...navLinks, headerBtn].forEach(el => {\n    if(el) {\n        el.addEventListener('click', () => {\n            if (navMenu.classList.contains('is-active')) toggleMenu();\n        });\n    }\n});\n\n/* =========================================\n   3. АНИМАЦИЯ HERO (Входная)\n   ========================================= */\n\nconst tlHero = gsap.timeline({ defaults: { ease: \"power2.out\", duration: 1 } });\n\ntlHero.fromTo(\".hero__img\", \n    { scale: 0.9, opacity: 0, filter: \"blur(10px)\", y: 20 },\n    { scale: 1, opacity: 1, filter: \"blur(0px)\", y: 0, duration: 1.4, ease: \"power3.out\" }\n)\n.to(\".hero__title\", { y: 0, opacity: 1 }, \"-=1.0\")\n.to(\".hero__subtitle\", { y: 0, opacity: 1 }, \"-=0.8\")\n.to(\".hero__actions\", { y: 0, opacity: 1 }, \"-=0.8\")\n.fromTo(\".hero__status\", { y: -20, opacity: 0 }, { y: 0, opacity: 1 }, \"-=1.2\");\n\n// Параллакс эффект для картинки\nconst heroSection = document.getElementById('hero');\nconst heroImg = document.querySelector('.hero__img');\n\nif (heroSection && heroImg && window.innerWidth > 992) {\n    heroSection.addEventListener('mousemove', (e) => {\n        const x = (e.clientX / window.innerWidth - 0.5) * 20;\n        const y = (e.clientY / window.innerHeight - 0.5) * 20;\n        gsap.to(heroImg, { x: x, y: y, duration: 1, ease: \"power1.out\" });\n    });\n}\n\n/* =========================================\n   4. УНИВЕРСАЛЬНАЯ АНИМАЦИЯ СКРОЛЛА\n   ========================================= */\n\n// Находим все элементы с атрибутом data-anim\nconst animatedElements = gsap.utils.toArray('[data-anim]');\n\nanimatedElements.forEach(el => {\n    // Определяем направление из атрибута (up, left, right)\n    const direction = el.getAttribute('data-anim');\n    \n    let xValue = 0;\n    let yValue = 0;\n\n    // Настройка смещения в зависимости от направления\n    if (direction === 'up') yValue = 50;\n    else if (direction === 'left') xValue = 50; // Приходит справа налево? Нет, обычно fade-left значит \"сдвинут влево изначально\" или \"идет влево\".\n    // Сделаем логичнее: \n    // data-anim=\"left\" -> Элемент находится справа и едет влево (для правой колонки)\n    // data-anim=\"right\" -> Элемент находится слева и едет вправо (для левой колонки)\n    \n    if (direction === 'left') xValue = 50;  // Стоит правее, едет в 0\n    if (direction === 'right') xValue = -50; // Стоит левее, едет в 0\n\n    gsap.fromTo(el, \n        { \n            autoAlpha: 0, // opacity + visibility\n            y: yValue, \n            x: xValue \n        },\n        { \n            duration: 1, \n            autoAlpha: 1, \n            y: 0, \n            x: 0, \n            ease: \"power2.out\",\n            scrollTrigger: {\n                trigger: el,\n                start: \"top 85%\", // Анимация начнется, когда верх элемента на 85% высоты экрана\n                toggleActions: \"play none none reverse\" // Проиграть один раз, но если скролл вверх - реверс (по желанию можно \"play none none none\")\n            }\n        }\n    );\n});\n\n/* =========================================\n   5. ФОРМА КОНТАКТОВ\n   ========================================= */\n\nconst contactForm = document.getElementById('contact-form');\nconst phoneInput = document.getElementById('phone');\nconst formMessage = document.getElementById('form-message');\nconst captchaInput = document.getElementById('captcha');\n\n// 1. ВАЛИДАЦИЯ ТЕЛЕФОНА (Только цифры)\nif (phoneInput) {\n    phoneInput.addEventListener('input', (e) => {\n        // Заменяем всё, что не цифра, на пустоту\n        e.target.value = e.target.value.replace(/\\D/g, '');\n    });\n}\n\n// 2. ОТПРАВКА ФОРМЫ\nif (contactForm) {\n    contactForm.addEventListener('submit', (e) => {\n        e.preventDefault();\n\n        // Проверка капчи (3 + 5 = 8)\n        if (captchaInput.value !== '8') {\n            formMessage.textContent = 'Ошибка: Неверное решение примера.';\n            formMessage.className = 'form-message error';\n            return;\n        }\n\n        // Имитация отправки\n        const btn = contactForm.querySelector('button');\n        const originalText = btn.textContent;\n        \n        btn.textContent = 'Отправка...';\n        btn.disabled = true;\n\n        // Таймер AJAX\n        setTimeout(() => {\n            btn.textContent = 'Отправлено!';\n            btn.style.backgroundColor = '#45A29E';\n            \n            formMessage.textContent = 'Спасибо! Мы свяжемся с вами в ближайшее время.';\n            formMessage.className = 'form-message success';\n            \n            contactForm.reset();\n            \n            // Возврат кнопки через 3 секунды\n            setTimeout(() => {\n                btn.textContent = originalText;\n                btn.disabled = false;\n                btn.style.backgroundColor = '';\n                formMessage.textContent = '';\n            }, 5000);\n        }, 1500);\n    });\n}"],"names":["lenis","t","raf","time","burgerBtn","navMenu","navLinks","headerBtn","toggleMenu","el","tlHero","heroSection","heroImg","x","y","animatedElements","direction","xValue","yValue","contactForm","phoneInput","formMessage","captchaInput","btn","originalText"],"mappings":"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"}